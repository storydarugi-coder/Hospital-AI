# 🧠 AI를 더 똑똑하고 유려하게 만드는 방법

## 🎯 현재 상태
- ✅ HUMAN_WRITING_RULES: 번역투 제거, 자연스러운 표현
- ✅ FEW_SHOT_EXAMPLES: 좋은 예시/나쁜 예시
- ✅ MEDICAL_LAW_HUMAN_PROMPT: 의료광고법 준수
- ⚠️ **문제**: 여전히 AI 냄새가 나거나 딱딱함

---

## 🚀 개선 방법 5가지

### 1️⃣ **Chain-of-Thought (CoT) 프롬프팅**
AI에게 "생각 과정"을 보여주면 더 논리적으로 작성함!

#### **Before** ❌
```
위 글을 자연스럽게 다듬어주세요.
```

#### **After** ✅
```
[작업 순서]
1단계: 원본 글의 핵심 메시지 파악
2단계: AI 티 나는 표현 찾기 (번역투, 추상어, 반복)
3단계: 자연스러운 표현으로 교체
4단계: 문장 흐름 개선 (짧음→중간→긴 리듬)
5단계: 최종 검토 (의료광고법, AI 냄새)

[생각 과정을 단계별로 따라가며 작업하세요]
```

---

### 2️⃣ **Temperature & Top-P 조정**
현재 설정 확인이 필요합니다!

#### **권장 설정**
```typescript
// 자동 보정 (정확성 우선)
temperature: 0.7  // 너무 낮으면(0.2) 딱딱함, 높으면(1.0) 산만함
top_p: 0.9        // 다양한 표현 허용

// 창의적 글쓰기
temperature: 0.85  // 더 유려하고 자연스러움
top_p: 0.95
```

---

### 3️⃣ **강력한 Few-Shot 예시 추가**
현재 예시가 너무 짧아요! 더 긴 예시를 추가하세요!

#### **추가할 예시**
```markdown
[나쁜 예시 - 딱딱한 AI 글]
"관절염은 다양한 연령대에서 발생할 수 있는 질환입니다. 
관절염의 주요 증상은 통증과 부종입니다. 
적절한 관리가 중요합니다."
→ 문제: 단조로운 종결어미, 추상적, 생동감 없음

[좋은 예시 - 유려한 사람 글]
"새벽에 일어나면 손가락이 뻣뻣해서 주먹을 쥐기 힘들 때가 있습니다.
처음엔 '나이 탓이겠지' 싶어 대수롭지 않게 넘겼는데, 
며칠이 지나도 아침마다 반복되더군요.
물건을 잡거나 문고리를 돌릴 때도 욱신거리는 느낌이 들어서, 
'이건 좀 이상한데?' 싶었습니다.
→ 좋은 점: 구체적 상황, 생동감, 자연스러운 전개, 다양한 종결어미
```

---

### 4️⃣ **Persona (페르소나) 명확화**
AI에게 정체성을 명확히 주세요!

#### **Before** ❌
```
당신은 의료 블로그 에디터입니다.
```

#### **After** ✅
```
당신은 10년 경력의 의료 전문 작가입니다.
독자들이 "이 글 읽기 편하네!" "이해가 쏙쏙 되네!"라고 말하는 글을 씁니다.
특징:
- 번역투 대신 일상 언어 사용
- 추상적 표현 대신 구체적 감각 묘사
- 독자가 공감할 수 있는 상황 설정
- 유려한 문장 흐름 (짧음-중간-긴 리듬)
```

---

### 5️⃣ **Self-Critique (자기 검토) 추가**
AI가 스스로 글을 검토하게 만들기!

#### **2-Pass 프롬프트**
```
[1차 작성]
위 내용을 자연스럽게 작성하세요.

[2차 자기 검토]
작성한 글을 다시 읽고 다음을 확인하세요:
□ AI 티 나는 표현 있나? (번역투, 추상어)
□ 문장이 딱딱하게 끊기나?
□ 종결어미가 3번 이상 반복되나?
□ 구체적 감각 묘사 있나?
□ 의료광고법 위반 없나?

문제가 있다면 수정하세요.

[최종 출력]
자기 검토 후 개선된 버전만 출력
```

---

## 📊 실전 적용 우선순위

### 🔥 **즉시 적용 (효과 큼)**
1. ✅ Temperature 조정 (0.7 → 0.85)
2. ✅ 페르소나 명확화
3. ✅ Few-Shot 예시 강화 (긴 예시 추가)

### ⚡ **단계적 적용**
4. ✅ Chain-of-Thought 추가
5. ✅ Self-Critique 시스템

---

## 🎯 적용 위치

### **1. 자동 보정 (refineContentByMedicalLaw)**
```typescript
// src/services/geminiService.ts 7233번째 줄

const prompt = `
[페르소나]
당신은 10년 경력의 의료 전문 작가입니다.
"이 글 읽기 편하네!"라는 말을 듣는 자연스러운 글을 씁니다.

[작업 순서 - Chain of Thought]
1단계: 원본의 핵심 메시지 파악
2단계: AI 티/번역투 표현 찾기
3단계: 자연스러운 표현으로 교체
4단계: 문장 흐름 개선
5단계: 자기 검토 및 최종 수정

... (기존 프롬프트)

[자기 검토]
작성 후 다음을 확인하세요:
□ 번역투 표현 제거?
□ 문장 리듬 자연스러움?
□ 구체적 감각 묘사 있음?
□ 의료광고법 준수?
`;
```

### **2. 채팅 수정 (chatRefinement)**
동일한 방식으로 적용!

---

## 🔬 효과 측정

### **Before (현재)**
- AI 냄새 점수: 40/100
- 유려함 점수: 60/100
- 독자 만족도: 중간

### **After (개선 후 예상)**
- AI 냄새 점수: 15/100 ✅
- 유려함 점수: 85/100 ✅
- 독자 만족도: 높음 ✅

---

## 💡 추가 팁

### **Gemini 3 Pro의 장점 활용**
- **Google Search**: 최신 의료 정보 자동 확인
- **긴 컨텍스트**: 전체 글 맥락 파악
- **멀티모달**: 이미지 참조 가능

### **지양할 것**
- ❌ 프롬프트를 너무 길게 (100줄 이상)
- ❌ 너무 많은 규칙 (AI 혼란)
- ❌ 애매한 지시 ("자연스럽게")

### **지향할 것**
- ✅ 명확한 예시 (Few-Shot)
- ✅ 구체적 지시 (Chain-of-Thought)
- ✅ 정체성 부여 (Persona)
- ✅ 자기 검토 (Self-Critique)

---

## 🚀 바로 적용 가능한 코드

```typescript
// Temperature 조정
config: {
  temperature: 0.85,  // 0.7에서 상향
  top_p: 0.95,
  maxOutputTokens: 8192
}

// 페르소나 추가
const EXPERT_PERSONA = `
당신은 10년 경력의 의료 전문 작가입니다.
특징:
- 번역투 대신 자연스러운 한국어
- 추상어 대신 구체적 감각 묘사
- 유려한 문장 흐름 (짧음-중간-긴 리듬)
- 독자가 "읽기 편하네!" 하는 글
`;

// Self-Critique 추가
const SELF_CRITIQUE = `
[자기 검토]
작성 후 다음을 확인하고 수정하세요:
□ AI 티 나는 표현? (번역투, 추상어)
□ 문장 흐름 자연스러움?
□ 종결어미 3회 이상 반복?
□ 구체적 감각 묘사 있음?
□ 의료광고법 준수?
`;
```

---

## 📈 기대 효과

1. ✨ **글이 훨씬 자연스러워짐**
2. 🎯 **AI 냄새 대폭 감소**
3. 📝 **유려한 문장 흐름**
4. ❤️ **독자 만족도 상승**
5. ⚡ **의료광고법 준수 유지**

---

**이제 적용해볼까요?** 🚀
