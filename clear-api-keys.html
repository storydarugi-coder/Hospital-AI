<!DOCTYPE html>
<html>
<head>
    <title>API 키 업데이트</title>
</head>
<body>
    <h1>API 키 업데이트 스크립트</h1>
    <button onclick="updateKeys()">새 API 키로 업데이트</button>
    <button onclick="showKeys()">현재 키 확인</button>
    <button onclick="clearKeys()">모든 키 삭제</button>
    <pre id="output"></pre>
    
    <script>
        const NEW_API_KEY = 'AIzaSyDOVqA7HP5yRZWalhEu12ECrhqP2R3cetg';
        
        function showKeys() {
            const output = document.getElementById('output');
            const keys = {
                GEMINI_API_KEY: localStorage.getItem('GEMINI_API_KEY'),
                GEMINI_API_KEYS: localStorage.getItem('GEMINI_API_KEYS'),
                OPENAI_API_KEY: localStorage.getItem('OPENAI_API_KEY')
            };
            output.textContent = '현재 저장된 키:\n' + JSON.stringify(keys, null, 2);
        }
        
        function updateKeys() {
            // 단일 키 업데이트
            localStorage.setItem('GEMINI_API_KEY', NEW_API_KEY);
            
            // 다중 키 배열 업데이트
            const keyArray = [{
                id: Date.now().toString(),
                key: NEW_API_KEY,
                name: 'Primary Key',
                isActive: true,
                usageCount: 0,
                lastUsed: null
            }];
            localStorage.setItem('GEMINI_API_KEYS', JSON.stringify(keyArray));
            
            document.getElementById('output').textContent = '✅ API 키가 업데이트되었습니다!\n새 키: ' + NEW_API_KEY.substring(0, 10) + '...';
            
            setTimeout(() => {
                window.location.reload();
            }, 2000);
        }
        
        function clearKeys() {
            localStorage.removeItem('GEMINI_API_KEY');
            localStorage.removeItem('GEMINI_API_KEYS');
            localStorage.removeItem('OPENAI_API_KEY');
            document.getElementById('output').textContent = '🗑️ 모든 API 키가 삭제되었습니다.';
        }
        
        // 페이지 로드 시 현재 키 표시
        window.onload = showKeys;
    </script>
</body>
</html>
